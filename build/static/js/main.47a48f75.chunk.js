(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{119:function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=n(12),u=n(28);var s=n(10),o=n(98);n(82),n(72);function c(e){return function(){var t=Object(i.a)(a.a.mark(function t(n){var r,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:u.k}),t.prev=1,r=e||s.auth().currentUser.uid,t.next=5,s.database().ref("/meals/"+r).once("value");case 5:return i=t.sent,t.abrupt("return",n((o=i.val(),{type:u.l,meals:o})));case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",n((a=t.t0,{type:u.j,error:a})));case 12:case"end":return t.stop()}var a,o},t,null,[[1,9]])}));return function(e){return t.apply(this,arguments)}}()}function l(e,t,n,r){return function(){var l=Object(i.a)(a.a.mark(function i(l){var p,d,h,f;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l({type:u.b}),a.prev=1,p=e||s.auth().currentUser.uid,d={},h=Object(o.a)(),d["/meals/"+p+"/"+h]={datetime:t,text:n,noOfCalories:r},a.next=8,s.database().ref().update(d);case 8:return a.next=10,s.database().ref("/meals/"+p).once("value");case 10:return f=a.sent,l(c(e)),a.abrupt("return",l((m=f.val(),{type:u.c,meals:m})));case 15:return a.prev=15,a.t0=a.catch(1),a.abrupt("return",l((i=a.t0,{type:u.a,error:i})));case 18:case"end":return a.stop()}var i,m},i,null,[[1,15]])}));return function(e){return l.apply(this,arguments)}}()}function p(e,t){return function(){var n=Object(i.a)(a.a.mark(function n(r){var i;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:u.e}),n.prev=1,i=e||s.auth().currentUser.uid,s.database().ref("/meals/"+i+"/"+t).remove(),r(c(e)),n.abrupt("return",r((o=void 0,{type:u.f,meals:o})));case 8:return n.prev=8,n.t0=n.catch(1),n.abrupt("return",r((a=n.t0,{type:u.d,error:a})));case 11:case"end":return n.stop()}var a,o},n,null,[[1,8]])}));return function(e){return n.apply(this,arguments)}}()}function d(e,t,n,r,o){return function(){var l=Object(i.a)(a.a.mark(function i(l){var p,d;return a.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return l({type:u.h}),a.prev=1,p=e||s.auth().currentUser.uid,(d={})["/meals/"+p+"/"+t]={datetime:n,text:r,noOfCalories:o},a.next=7,s.database().ref().update(d);case 7:return l(c(e)),a.abrupt("return",l((h=void 0,{type:u.i,meals:h})));case 11:return a.prev=11,a.t0=a.catch(1),a.abrupt("return",l((i=a.t0,{type:u.g,error:i})));case 14:case"end":return a.stop()}var i,h},i,null,[[1,11]])}));return function(e){return l.apply(this,arguments)}}()}n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"b",function(){return p}),n.d(t,"c",function(){return d})},126:function(e,t,n){"use strict";var r=n(13),a=n(14),i=n(17),u=n(15),s=n(7),o=n(16),c=n(0),l=n.n(c),p=n(71),d=(n(278),1700),h=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={expectedNoOfCaloriesPerDay:JSON.parse(e.settings).expectedNoOfCaloriesPerDay||d},n.handleSettingsChange=n.handleSettingsChange.bind(Object(s.a)(n)),n}return Object(o.a)(t,e),Object(a.a)(t,[{key:"componentDidUpdate",value:function(e){e.settings!==this.props.settings&&this.setState({expectedNoOfCaloriesPerDay:JSON.parse(this.props.settings).expectedNoOfCaloriesPerDay||d})}},{key:"handleSettingsChange",value:function(e){var t=this;this.setState({expectedNoOfCaloriesPerDay:e.target.value},function(){t.props.onChange(JSON.stringify({expectedNoOfCaloriesPerDay:t.state.expectedNoOfCaloriesPerDay}))})}},{key:"render",value:function(){return l.a.createElement("div",{className:"settings"},l.a.createElement(p.a,{inputProps:{onChange:this.handleSettingsChange,value:this.state.expectedNoOfCaloriesPerDay,type:"number"},label:"Expected No. of calories per day"}))}}]),t}(l.a.Component);t.a=h},127:function(e,t,n){"use strict";var r=n(13),a=n(14),i=n(17),u=n(15),s=n(7),o=n(16),c=n(0),l=n.n(c),p=n(31),d=n(45),h=n(36),f=n(167),m=n.n(f);n(277);d.b.add(p.e);var b=function(e){function t(e){var n;return Object(r.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={photoURL:e.photoURL||""},n.photoFileToUpload=null,n.handleProfilePictureClick=n.handleProfilePictureClick.bind(Object(s.a)(n)),n}return Object(o.a)(t,e),Object(a.a)(t,[{key:"handleProfilePictureClick",value:function(e){var t=this,n=e.target;this.setState({photoURL:URL.createObjectURL(n.files[0])},function(){t.photoFileToUpload=n.files[0],t.props.onChange(t.photoFileToUpload)})}},{key:"render",value:function(){return l.a.createElement("div",{className:"photo-loader"},l.a.createElement("img",{className:"profile-picture",alt:"user",src:this.state.photoURL||m.a}),l.a.createElement("label",{htmlFor:"upload-picture"},l.a.createElement(h.a,{icon:"pen"})),l.a.createElement("input",{type:"file",name:"upload-picture",id:"upload-picture",onChange:this.handleProfilePictureClick}))}}]),t}(l.a.Component);t.a=b},158:function(e,t,n){e.exports=n.p+"static/media/logo.9d581f54.svg"},167:function(e,t){e.exports="data:image/png;base64,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"},173:function(e,t,n){e.exports=n.p+"static/media/logo-no-text.68f76c3e.svg"},18:function(e,t,n){"use strict";n.d(t,"q",function(){return r}),n.d(t,"r",function(){return a}),n.d(t,"p",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"k",function(){return c}),n.d(t,"l",function(){return l}),n.d(t,"j",function(){return p}),n.d(t,"n",function(){return d}),n.d(t,"o",function(){return h}),n.d(t,"m",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"f",function(){return b}),n.d(t,"d",function(){return E}),n.d(t,"h",function(){return v}),n.d(t,"i",function(){return U}),n.d(t,"g",function(){return g}),n.d(t,"t",function(){return O}),n.d(t,"u",function(){return y}),n.d(t,"s",function(){return S});var r="GET_USERS_REQUEST",a="GET_USERS_SUCCESS",i="GET_USERS_FAILURE",u="ADD_USER_REQUEST",s="ADD_USER_SUCCESS",o="ADD_USER_FAILURE",c="DELETE_USER_REQUEST",l="DELETE_USER_SUCCESS",p="DELETE_USER_FAILURE",d="EDIT_USER_REQUEST",h="EDIT_USER_SUCCESS",f="EDIT_USER_FAILURE",m="CREATE_DB_USER_REQUEST",b="CREATE_DB_USER_SUCCEESS",E="CREATE_DB_USER_FAILURE",v="CREATE_USER_REQUEST",U="CREATE_USER_SUCCEESS",g="CREATE_USER_FAILURE",O="SEND_EMAIL_INVITATION_REQUEST",y="SEND_EMAIL_INVITATION_SUCCESS",S="SEND_EMAIL_INVITATION_FAILURE"},181:function(e,t,n){e.exports=n(308)},186:function(e,t,n){},19:function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return a});var r={REGULAR:"REGULAR",USER_MANAGER:"USER_MANAGER",ADMIN:"ADMIN"},a='{"expectedNoOfCaloriesPerDay": "1700"}'},218:function(e,t,n){},219:function(e,t,n){},22:function(e,t,n){"use strict";n.d(t,"m",function(){return r}),n.d(t,"n",function(){return a}),n.d(t,"l",function(){return i}),n.d(t,"j",function(){return u}),n.d(t,"k",function(){return s}),n.d(t,"i",function(){return o}),n.d(t,"p",function(){return c}),n.d(t,"q",function(){return l}),n.d(t,"o",function(){return p}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"g",function(){return m}),n.d(t,"h",function(){return b}),n.d(t,"f",function(){return E}),n.d(t,"e",function(){return v}),n.d(t,"a",function(){return U});var r="UPDATE_PROFILE_REQUEST",a="UPDATE_PROFILE_SUCCESS",i="UPDATE_PROFILE_FAILURE",u="UPDATE_EMAIL_REQUEST",s="UPDATE_EMAIL_SUCCESS",o="UPDATE_EMAIL_FAILURE",c="UPLOAD_PROFILE_PICTURE_REQUEST",l="UPLOAD_PROFILE_PICTURE_SUCCESS",p="UPLOAD_PROFILE_PICTURE_FAILURE",d="GET_DB_USER_REQUEST",h="GET_DB_USER_SUCCESS",f="GET_DB_USER_FAILURE",m="UPDATE_DB_USER_REQUEST",b="UPDATE_DB_USER_SUCCEESS",E="UPDATE_DB_USER_FAILURE",v="OPEN_MODAL",U="CLOSE_MODAL"},220:function(e,t,n){},221:function(e,t,n){},222:function(e,t,n){},24:function(e,t,n){"use strict";n.d(t,"m",function(){return a}),n.d(t,"n",function(){return i}),n.d(t,"l",function(){return u}),n.d(t,"j",function(){return s}),n.d(t,"k",function(){return o}),n.d(t,"i",function(){return c}),n.d(t,"p",function(){return l}),n.d(t,"q",function(){return p}),n.d(t,"o",function(){return d}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"b",function(){return m}),n.d(t,"g",function(){return b}),n.d(t,"h",function(){return E}),n.d(t,"f",function(){return v}),n.d(t,"e",function(){return U}),n.d(t,"a",function(){return g});var r=n(22);function a(){return{type:r.m}}function i(e){return{type:r.n,user:e}}function u(e){return{type:r.l,error:e}}function s(){return{type:r.j}}function o(e){return{type:r.k,user:e}}function c(e){return{type:r.i,error:e}}function l(){return{type:r.p}}function p(e){return{type:r.q,snapshot:e}}function d(e){return{type:r.o,error:e}}function h(){return{type:r.c}}function f(e){return{type:r.d,dbUser:e}}function m(e){return{type:r.b,error:e}}function b(){return{type:r.g}}function E(e){return{type:r.h,dbUser:e}}function v(e){return{type:r.f,error:e}}function U(e,t){return{type:r.e,modalName:e,modalParams:t}}function g(){return{type:r.a}}},277:function(e,t,n){},278:function(e,t,n){},279:function(e,t,n){},28:function(e,t,n){"use strict";n.d(t,"k",function(){return r}),n.d(t,"l",function(){return a}),n.d(t,"j",function(){return i}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return s}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"h",function(){return d}),n.d(t,"i",function(){return h}),n.d(t,"g",function(){return f}),n.d(t,"n",function(){return m}),n.d(t,"o",function(){return b}),n.d(t,"m",function(){return E});var r="GET_MEALS_REQUEST",a="GET_MEALS_SUCCESS",i="GET_MEALS_FAILURE",u="ADD_MEAL_REQUEST",s="ADD_MEAL_SUCCESS",o="ADD_MEAL_FAILURE",c="DELETE_MEAL_REQUEST",l="DELETE_MEAL_SUCCESS",p="DELETE_MEAL_FAILURE",d="EDIT_MEAL_REQUEST",h="EDIT_MEAL_SUCCESS",f="EDIT_MEAL_FAILURE",m="GET_MEAL_CALORIES_REQUEST",b="GET_MEAL_CALORIES_SUCCESS",E="GET_MEAL_CALORIES_FAILURE"},280:function(e,t,n){},281:function(e,t,n){var r={"./Meal":[99,9,1],"./Meal/":[99,9,1],"./Meal/Meal":[175,9,3],"./Meal/Meal.js":[175,9,3],"./Meal/Meal.scss":[310,7,9],"./Meal/constants":[177,7,4],"./Meal/constants.js":[177,7,4],"./Meal/index":[99,9,1],"./Meal/index.js":[99,9,1],"./User":[100,9,0],"./User/":[100,9,0],"./User/User":[176,9,2],"./User/User.js":[176,9,2],"./User/User.scss":[311,7,10],"./User/constants":[178,7,5],"./User/constants.js":[178,7,5],"./User/index":[100,9,0],"./User/index.js":[100,9,0]};function a(e){if(!n.o(r,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=r[e],a=t[0];return n.e(t[2]).then(function(){return n.t(a,t[1])})}a.keys=function(){return Object.keys(r)},a.id=281,e.exports=a},288:function(e,t,n){},290:function(e,t,n){},303:function(e,t,n){},304:function(e,t,n){},306:function(e,t,n){},308:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(4),u=n.n(i),s=(n(186),n(13)),o=n(14),c=n(17),l=n(15),p=n(16),d=n(42),h=n(48),f=n(23),m=n(155),b=n(10);n(72);var E=Object(h.f)(function(e){var t=e.isAuthenticated,n=e.location,r=Object(m.a)(e,["isAuthenticated","location"]);return t?window.location.href.indexOf("finishSignUp")>0?a.a.createElement(h.a,{to:"/finishSignUp?link="+window.location.href}):a.a.createElement(h.b,r):a.a.createElement(h.a,{to:{pathname:"/login",state:{referrer:n.pathname+n.search}}})}),v=n(2),U=n.n(v),g=n(12),O="FULL_LOGIN_REQUEST",y="FULL_LOGIN_SUCCESS",S="FULL_LOGIN_FAILURE",A="LOGIN_REQUEST",k="LOGIN_SUCCESS",j="LOGIN_FAILURE",R="TWITTER_LOGIN_REQUEST",L="TWITTER_LOGIN_SUCCESS",C="TWITTER_LOGIN_FAILURE",I="GITHUB_LOGIN_REQUEST",N="GITHUB_LOGIN_SUCCESS",x="GITHUB_LOGIN_FAILURE",T="SIGN_UP_REQUEST",w="SIGN_UP_SUCCESS",P="SIGN_UP_FAILURE",_="VALIDATE_EMAIL_SUCCESS",D="VALIDATE_EMAIL_FAILURE",M="REFRESH_TOKEN_REQUEST",F="REFRESH_TOKEN_SUCCESS",H="REFRESH_TOKEN_FAILURE",G="CLEAR_LOGIN_ERROR",z="LOGOUT_REQUEST",V="LOGOUT_SUCCESS",Q="LOGOUT_FAILURE",B="SET_UNAUTHENTICATED",X="DISABLE_ACCOUNT_REQUEST",J="DISABLE_ACCOUNT_SUCCESS",Y="DISABLE_ACCOUNT_FAILURE",W="SIGN_IN_WITH_EMAIL_REQUEST",q="SIGN_IN_WITH_EMAIL_SUCCESS",Z="SIGN_IN_WITH_EMAIL_FAILURE",K="SET_EMAIL",$="SET_PASSWORD";function ee(e){return{type:k,user:e}}function te(e){return{type:L,user:e}}function ne(e){return{type:N,user:e}}function re(){return{type:T}}function ae(e){return{type:w,user:e}}function ie(){return{type:O}}function ue(e){return{type:y,dbUser:e}}function se(e){return{type:S,error:e}}function oe(e){return{type:q,user:e}}var ce=n(76);n(82);function le(e){return function(){var e=Object(g.a)(U.a.mark(function e(t){var n;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(re()),e.prev=1,n=b.auth().currentUser,e.next=5,n.sendEmailVerification();case 5:return e.abrupt("return",t({type:_}));case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",t((r=e.t0,{type:D,error:r})));case 11:case"end":return e.stop()}var r},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()}function pe(e,t){return function(){var n=Object(g.a)(U.a.mark(function n(r){var a,i;return U.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(re()),n.prev=1,n.next=4,b.auth().createUserWithEmailAndPassword(e,t);case 4:return a=n.sent,i=a.user,n.abrupt("return",r(ae(i)));case 9:return n.prev=9,n.t0=n.catch(1),n.abrupt("return",r((u=n.t0,{type:P,error:u})));case 12:case"end":return n.stop()}var u},n,null,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()}function de(e,t){return function(){var n=Object(g.a)(U.a.mark(function n(r){var a,i;return U.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r({type:A}),n.prev=1,n.next=4,b.auth().signInWithEmailAndPassword(e,t);case 4:return a=n.sent,i=a.user,n.abrupt("return",r(ee(i)));case 9:return n.prev=9,n.t0=n.catch(1),n.abrupt("return",r((u=n.t0,{type:j,error:u})));case 12:case"end":return n.stop()}var u},n,null,[[1,9]])}));return function(e){return n.apply(this,arguments)}}()}function he(){return function(){var e=Object(g.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:z}),e.prev=1,e.next=4,b.auth().signOut();case 4:return e.abrupt("return",t({type:V,user:void 0}));case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t((n=e.t0,{type:Q,error:n})));case 10:case"end":return e.stop()}var n},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()}function fe(){return function(){var e=Object(g.a)(U.a.mark(function e(t){return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:M}),e.prev=1,e.next=4,b.auth().currentUser.getIdToken(!0);case 4:return e.abrupt("return",t((r=b.auth().currentUser,{type:F,user:r})));case 7:return e.prev=7,e.t0=e.catch(1),e.abrupt("return",t((n=e.t0,{type:H,error:n})));case 10:case"end":return e.stop()}var n,r},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}()}function me(e){return function(){var t=Object(g.a)(U.a.mark(function t(n){var r,a;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:W}),t.prev=1,t.next=4,b.auth().signInWithEmailLink(e,window.location.href);case 4:return r=t.sent,a=r.user,window.localStorage.removeItem("emailForSignIn"),t.abrupt("return",n(oe(a)));case 10:return t.prev=10,t.t0=t.catch(1),t.abrupt("return",n((i=t.t0,{type:Z,error:i})));case 13:case"end":return t.stop()}var i},t,null,[[1,10]])}));return function(e){return t.apply(this,arguments)}}()}var be=n(7),Ee=n(31),ve=n(91),Ue=n(45),ge=n(36),Oe=n(43),ye=n(46),Se=n(18),Ae=n(19);n(218);function ke(e){var t=e.cls,n=void 0===t?"":t,r=e.icon,i=e.inputProps;return a.a.createElement("div",{className:"input-with-icon ".concat(n)},a.a.createElement(ge.a,{icon:r}),a.a.createElement("input",i))}var je=n(158),Re=n.n(je);n(219);Ue.b.add(Ee.a,Ee.b,ve.b,ve.a);var Le=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleLogin=n.handleLogin.bind(Object(be.a)(n)),n.handleSignUp=n.handleSignUp.bind(Object(be.a)(n)),n.handleInputChange=n.handleInputChange.bind(Object(be.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){e.failedLogins<this.props.failedLogins&&this.props.failedLogins>=3&&this.props.disableAccount(this.props.email)}},{key:"handleLogin",value:function(){this.props.fullLogin(this.props.email,this.props.password)}},{key:"handleSignUp",value:function(){this.props.signUpFull(this.props.email,this.props.password)}},{key:"handleInputChange",value:function(e){"Email"===e.target.name?this.props.setEmail(e.target.value):this.props.setPassword(e.target.value),this.props.clearLoginError()}},{key:"renderLoginForm",value:function(){var e={type:"Email",name:"Email",placeholder:"Email",required:!0,value:this.props.email,onChange:this.handleInputChange},t={type:"Password",name:"Password",placeholder:"Password",required:!0,value:this.props.password,onChange:this.handleInputChange};return a.a.createElement("div",{className:"login"},a.a.createElement("div",{className:"logo-wrapper"},a.a.createElement("img",{src:Re.a,alt:"logo"})),a.a.createElement("div",{className:"login-form"},a.a.createElement(ke,{inputProps:e,icon:"envelope"}),a.a.createElement(ke,{inputProps:t,icon:"lock"}),this.props.error&&a.a.createElement("div",{className:"warning"},this.props.error.message),a.a.createElement("button",{className:"log-in-btn",onClick:this.handleLogin},"LOG IN"),a.a.createElement("span",{className:"sign-up",onClick:this.handleSignUp},"Sign up")),a.a.createElement("div",{className:"social-media-buttons"},a.a.createElement(ge.a,{onClick:this.props.twitterLoginFull,className:"social-media-button",icon:["fab","twitter"]}),a.a.createElement(ge.a,{onClick:this.props.githubLoginFull,className:"social-media-button",icon:["fab","github"]})))}},{key:"render",value:function(){var e=(this.props.location.state||{referrer:"/"}).referrer;return this.props.isAuthenticated?a.a.createElement(h.a,{to:e}):this.renderLoginForm()}}]),t}(a.a.Component);var Ce={fullLogin:function(e,t){return function(){var n=Object(g.a)(U.a.mark(function n(r){return U.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(ie()),n.prev=1,n.next=4,r(de(e,t));case 4:return n.sent.user,n.next=8,r(Oe.a());case 8:return n.sent.dbUser,n.abrupt("return",r(ue()));case 13:return n.prev=13,n.t0=n.catch(1),n.abrupt("return",r(se(n.t0)));case 16:case"end":return n.stop()}},n,null,[[1,13]])}));return function(e){return n.apply(this,arguments)}}()},signUpFull:function(e,t){return function(){var n=Object(g.a)(U.a.mark(function n(r){var a,i;return U.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(ie()),n.prev=1,n.next=4,r(pe(e,t));case 4:if((a=n.sent).type!==P){n.next=7;break}return n.abrupt("return",r(se(a.error)));case 7:return n.next=9,r(le(a.user));case 9:if((i=n.sent).type!==D){n.next=12;break}return n.abrupt("return",r(se(i.error)));case 12:return n.next=14,r(ye.a(a.user.uid,Ae.b.REGULAR,Ae.a));case 14:return n.abrupt("return",r(ue()));case 17:return n.prev=17,n.t0=n.catch(1),n.abrupt("return",r(se(n.t0)));case 20:case"end":return n.stop()}},n,null,[[1,17]])}));return function(e){return n.apply(this,arguments)}}()},clearLoginError:function(){return{type:G}},disableAccount:function(e){return function(){var t=Object(g.a)(U.a.mark(function t(n){return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:X}),t.prev=1,t.next=4,ce.a.post("/disableAccount",{email:e});case 4:return t.sent,t.abrupt("return",n({type:J}));case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",n((r=t.t0,{type:Y,error:r})));case 11:case"end":return t.stop()}var r},t,null,[[1,8]])}));return function(e){return t.apply(this,arguments)}}()},setEmail:function(e){return{type:K,email:e}},setPassword:function(e){return{type:$,password:e}},twitterLoginFull:function(){return function(){var e=Object(g.a)(U.a.mark(function e(t){var n,r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(ie()),e.prev=1,e.next=4,t(function(){var e=Object(g.a)(U.a.mark(function e(t){var n,r,a;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:R}),e.prev=1,n=new b.auth.TwitterAuthProvider,e.next=5,b.auth().signInWithPopup(n);case 5:return r=e.sent,a=r.user,e.abrupt("return",t(te(a)));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",t((i=e.t0,{type:C,error:i})));case 13:case"end":return e.stop()}var i},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}());case 4:if((n=e.sent).type!==C){e.next=7;break}return e.abrupt("return",t(se(n.error)));case 7:return e.next=9,t(Oe.a());case 9:if(e.sent.dbUser){e.next=17;break}return e.next=14,t(ye.a(n.user.uid,Ae.b.REGULAR,Ae.a));case 14:if((r=e.sent).type!==Se.d){e.next=17;break}return e.abrupt("return",t(se(r.error)));case 17:return e.abrupt("return",t(ue()));case 20:return e.prev=20,e.t0=e.catch(1),e.abrupt("return",t(se(e.t0)));case 23:case"end":return e.stop()}},e,null,[[1,20]])}));return function(t){return e.apply(this,arguments)}}()},githubLoginFull:function(){return function(){var e=Object(g.a)(U.a.mark(function e(t){var n,r;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(ie()),e.prev=1,e.next=4,t(function(){var e=Object(g.a)(U.a.mark(function e(t){var n,r,a;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:I}),e.prev=1,n=new b.auth.GithubAuthProvider,e.next=5,b.auth().signInWithPopup(n);case 5:return r=e.sent,a=r.user,e.abrupt("return",t(ne(a)));case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",t((i=e.t0,{type:x,error:i})));case 13:case"end":return e.stop()}var i},e,null,[[1,10]])}));return function(t){return e.apply(this,arguments)}}());case 4:if((n=e.sent).type!==x){e.next=7;break}return e.abrupt("return",t(se(n.error)));case 7:return e.next=9,t(Oe.a());case 9:if(e.sent.dbUser){e.next=17;break}return e.next=14,t(ye.a(n.user.uid,Ae.b.REGULAR,Ae.a));case 14:if((r=e.sent).type!==Se.d){e.next=17;break}return e.abrupt("return",t(se(r.error)));case 17:return e.abrupt("return",t(ue()));case 20:return e.prev=20,e.t0=e.catch(1),e.abrupt("return",t(se(e.t0)));case 23:case"end":return e.stop()}},e,null,[[1,20]])}));return function(t){return e.apply(this,arguments)}}()}},Ie=Object(f.b)(function(e){var t=e.login;return{error:t.error,isAuthenticated:t.isAuthenticated,failedLogins:t.failedLogins,email:t.email,password:t.password}},Ce)(Le),Ne=(n(220),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).handleLogin=n.handleLogin.bind(Object(be.a)(n)),n.handleResendEmailValidation=n.handleResendEmailValidation.bind(Object(be.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleLogin",value:function(){this.props.login(this.props.email,this.props.password)}},{key:"handleResendEmailValidation",value:function(){this.props.validateEmail(this.props.user)}},{key:"render",value:function(){return a.a.createElement("div",{className:"email-validation"},a.a.createElement("div",{className:"message-box"},"Please check your email inbox and validate your email address in order to be able to proceed to the app."),a.a.createElement("div",{className:"buttons"},a.a.createElement("button",{className:"log-out",onClick:this.props.logout},"Log out"),a.a.createElement("button",{className:"try-again",onClick:this.handleLogin},"Try again")),a.a.createElement("span",{className:"resend-email",onClick:this.handleResendEmailValidation},"Haven't received the email yet? Click here."))}}]),t}(a.a.Component));var xe={logout:he,login:de,validateEmail:le},Te=Object(f.b)(function(e){var t=e.login;return{email:t.email,password:t.password,user:e.app.user}},xe)(Ne),we=n(83),Pe=n(71),_e=n(80),De=(n(222),_e.a.Option);var Me=function(e){var t=e.defaultValue,n=e.options,r=e.disabled,i=e.label,u=e.onChange;return a.a.createElement("div",{className:"select-with-label"},a.a.createElement("label",null,i),a.a.createElement(_e.a,{disabled:r,defaultValue:t,onChange:u},n.map(function(e,t){return a.a.createElement(De,{key:t,value:e},e)})))},Fe=n(127),He=n(126),Ge=(n(279),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={email:e.user.email||"",displayName:e.user.displayName||"",photoURL:e.user.photoURL,role:e.dbUser.role,settings:e.dbUser.settings},n.photoFileToUpload=null,n.handleOnChange=n.handleOnChange.bind(Object(be.a)(n)),n.handleProfilePictureClick=n.handleProfilePictureClick.bind(Object(be.a)(n)),n.handleSave=n.handleSave.bind(Object(be.a)(n)),n.handleRoleChange=n.handleRoleChange.bind(Object(be.a)(n)),n.handleSettingsChange=n.handleSettingsChange.bind(Object(be.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleOnChange",value:function(e){this.setState(Object(we.a)({},e.target.name,e.target.value))}},{key:"handleProfilePictureClick",value:function(e){this.photoFileToUpload=e}},{key:"isSaveDisabled",value:function(){return!this.state.displayName||!this.state.email}},{key:"updateProfile",value:function(e){return this.props.updateProfile(e)}},{key:"updateEmail",value:function(){return this.props.updateEmail(this.state.email)}},{key:"updateDbUser",value:function(){var e=this.props.dbUser.role===Ae.b.REGULAR?null:this.state.role;return this.props.updateDbUser(this.props.user.uid,e,this.state.settings)}},{key:"handleSave",value:function(){var e=Object(g.a)(U.a.mark(function e(){var t,n,r,a,i,u;return U.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.user,r=t.dbUser,a={displayName:this.state.displayName},!this.photoFileToUpload){e.next=11;break}return e.next=5,this.props.uploadProfilePicture(n.uid,this.photoFileToUpload);case 5:if(i=e.sent,!(u=i.snapshot)){e.next=11;break}return e.next=10,u.metadata.ref.getDownloadURL();case 10:a.photoURL=e.sent;case 11:(a.displayName!==n.displayName||this.photoFileToUpload)&&this.updateProfile(a),this.state.settings===r.settings&&this.state.role===r.role||this.updateDbUser(),this.state.email!==n.email&&this.updateEmail();case 14:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"handleRoleChange",value:function(e){this.setState({role:e})}},{key:"handleSettingsChange",value:function(e){this.setState({settings:e})}},{key:"getRoleOptions",value:function(){switch(this.props.dbUser.role){case Ae.b.ADMIN:return[Ae.b.REGULAR,Ae.b.USER_MANAGER,Ae.b.ADMIN];case Ae.b.USER_MANAGER:return[Ae.b.REGULAR,Ae.b.USER_MANAGER];case Ae.b.REGULAR:default:return[Ae.b.REGULAR]}}},{key:"render",value:function(){var e={required:!0,name:"email",value:this.state.email,placeholder:"example@domain.com",onChange:this.handleOnChange},t={required:!0,name:"displayName",value:this.state.displayName,placeholder:"John Doe",onChange:this.handleOnChange};return a.a.createElement("div",{className:"update-profile"},a.a.createElement(Fe.a,{photoURL:this.state.photoURL,onChange:this.handleProfilePictureClick}),a.a.createElement(Pe.a,{inputProps:e,label:"Email"}),a.a.createElement(Pe.a,{inputProps:t,label:"Name"}),this.props.dbUser&&this.props.dbUser.settings&&this.props.dbUser.role&&a.a.createElement(a.a.Fragment,null,a.a.createElement(Me,{label:"Role",onChange:this.handleRoleChange,options:this.getRoleOptions(),defaultValue:this.props.dbUser.role,disabled:this.props.dbUser.role===Ae.b.REGULAR}),a.a.createElement(He.a,{settings:this.props.dbUser.settings,onChange:this.handleSettingsChange})),a.a.createElement("button",{className:"save ".concat(this.isSaveDisabled()?"disabled":""),disabled:this.isSaveDisabled(),onClick:this.handleSave},"SAVE"))}}]),t}(a.a.Component));var ze={uploadProfilePicture:Oe.e,updateProfile:Oe.d,updateDbUser:Oe.b,updateEmail:Oe.c},Ve=Object(f.b)(function(e){var t=e.app;return{user:t.user,dbUser:t.dbUser}},ze)(Ge),Qe=n(24),Be=n(317),Xe=(n(280),function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"getModalContent",value:function(){var e,t=this.props.modalToShow,r=t?(e=function(){return n(281)("./".concat(t))},function(t){function n(){var e;return Object(s.a)(this,n),(e=Object(c.a)(this,Object(l.a)(n).call(this))).state={component:null},e}return Object(p.a)(n,t),Object(o.a)(n,[{key:"componentDidMount",value:function(){var t=Object(g.a)(U.a.mark(function t(){var n,r;return U.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e();case 2:n=t.sent,r=n.default,this.setState({component:r});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.component;return e&&a.a.createElement(e,this.props)}}]),n}(a.a.Component)):function(){return null};return a.a.createElement(r,{params:this.props.modalParams})}},{key:"render",value:function(){return a.a.createElement(Be.a,{className:"modal",open:!!this.props.modalToShow,onBackdropClick:this.props.closeModal,onClose:this.props.closeModal},a.a.createElement("div",{className:"content"},this.getModalContent()))}}]),t}(a.a.Component));var Je={closeModal:Qe.a},Ye=Object(f.b)(function(e){var t=e.app;return{modalToShow:t.modalToShow,modalParams:t.modalParams}},Je)(Xe);n(288);Ue.b.add(Ee.f,Ee.c,Ee.e,Ee.d);var We=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={email:""},n.handleEmailInvite=n.handleEmailInvite.bind(Object(be.a)(n)),n.handleEmailChange=n.handleEmailChange.bind(Object(be.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleEmailInvite",value:function(){this.props.onEmailInvite(this.state.email),this.setState({email:""})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"render",value:function(){return a.a.createElement("div",{className:"toolbar"},a.a.createElement(ge.a,{className:"toolbar-button",onClick:this.props.onAdd,icon:"plus"}),a.a.createElement(ge.a,{className:"toolbar-button",onClick:this.props.onRemove,icon:"minus"}),a.a.createElement(ge.a,{className:"toolbar-button",onClick:this.props.onEdit,icon:"pen"}),this.props.onEmailInvite&&a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{placeholder:"Invite someone. Type email.",value:this.state.email,onChange:this.handleEmailChange,className:"invite-input"}),a.a.createElement(ge.a,{className:"toolbar-button",onClick:this.handleEmailInvite,icon:"paper-plane"})))}}]),t}(a.a.Component),qe="Meal",Ze="User",Ke=n(119),$e=n(316),et=n(125),tt=n.n(et),nt=(n(290),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={selectedMeal:null},n.props.getMeals(e.user.uid),n.handleAdd=n.handleAdd.bind(Object(be.a)(n)),n.handleRemove=n.handleRemove.bind(Object(be.a)(n)),n.handleEdit=n.handleEdit.bind(Object(be.a)(n)),n.getItemClickHandler=n.getItemClickHandler.bind(Object(be.a)(n)),n.getRenderItem=n.getRenderItem.bind(Object(be.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleAdd",value:function(){this.props.openModal(qe,{meal:{}})}},{key:"handleRemove",value:function(){this.props.deleteMeal(this.props.user.uid,this.state.selectedMeal.id)}},{key:"handleEdit",value:function(){this.props.openModal(qe,{meal:this.state.selectedMeal})}},{key:"getItemClickHandler",value:function(e){var t=this;return function(){t.state.selectedMeal===e?t.setState({selectedMeal:null}):t.setState({selectedMeal:e})}}},{key:"getRenderItem",value:function(e){return a.a.createElement($e.a.Item,null,a.a.createElement("div",{onClick:this.getItemClickHandler(e),className:e===this.state.selectedMeal?"selected":""},a.a.createElement("span",null,e.text),a.a.createElement("span",null,tt()(e.datetime).format("MM-DD-YYYY HH:mm")),a.a.createElement("span",null,e.noOfCalories)))}},{key:"getHeader",value:function(){return a.a.createElement("div",{className:"header"},a.a.createElement("span",null,"What"),a.a.createElement("span",null,"When"),a.a.createElement("span",null,"How much (kcals)"))}},{key:"render",value:function(){return a.a.createElement("div",{className:"manage-meals"},a.a.createElement(We,{onAdd:this.handleAdd,onRemove:this.handleRemove,onEdit:this.handleEdit}),a.a.createElement("ul",{className:"meals-list"},a.a.createElement($e.a,{size:"small",bordered:!0,header:this.getHeader(),dataSource:this.props.meals,renderItem:this.getRenderItem})))}}]),t}(a.a.Component));var rt={openModal:Qe.e,getMeals:Ke.d,deleteMeal:Ke.b},at=Object(f.b)(function(e){return{meals:e.meals.meals,user:e.app.user}},rt)(nt),it=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).render=function(){return a.a.createElement("div",{className:"finish-sign-up"},a.a.createElement("input",{value:n.state.email,onChange:n.handleEmailChange,placeholder:"email"}),a.a.createElement("button",{onClick:n.handleFinishSignUp},"FINISH SIGN UP"),">")},console.log("sign up page displayed"),n.state={email:window.localStorage.getItem("emailForSignIn")||""},n.handleEmailChange=n.handleEmailChange.bind(Object(be.a)(n)),n.handleFinishSignUp=n.handleFinishSignUp.bind(Object(be.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleEmailChange",value:function(e){var t=e.target.value;this.setState({email:t})}},{key:"handleFinishSignUp",value:function(){this.props.finishSignUp(this.state.email,this.props.location.query.split("?link=")[1])}}]),t}(a.a.Component);var ut=Object(f.b)(function(e){return{}},function(e){return{finishSignUp:me}})(it),st=(n(303),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={selectedUser:null},n.isUserAllowedHere()&&n.props.getUsers(e.user.uid),n.handleAdd=n.handleAdd.bind(Object(be.a)(n)),n.handleRemove=n.handleRemove.bind(Object(be.a)(n)),n.handleEdit=n.handleEdit.bind(Object(be.a)(n)),n.getItemClickHandler=n.getItemClickHandler.bind(Object(be.a)(n)),n.getRenderItem=n.getRenderItem.bind(Object(be.a)(n)),n.handleEmailInvite=n.handleEmailInvite.bind(Object(be.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"isUserAllowedHere",value:function(){var e=this.props.dbUser.role;return e===Ae.b.ADMIN||e===Ae.b.USER_MANAGER}},{key:"handleAdd",value:function(){this.props.openModal(Ze,{user:{}})}},{key:"handleRemove",value:function(){this.props.deleteUser(this.props.user.uid,this.state.selectedUser.id)}},{key:"handleEdit",value:function(){this.props.openModal(Ze,{user:this.state.selectedUser})}},{key:"getItemClickHandler",value:function(e){var t=this;return function(){t.state.selectedUser===e?t.setState({selectedUser:null}):t.setState({selectedUser:e})}}},{key:"getRenderItem",value:function(e){return a.a.createElement($e.a.Item,null,a.a.createElement("div",{onClick:this.getItemClickHandler(e),className:[e===this.state.selectedUser?"selected":"",this.props.dbUser.role!==Ae.b.ADMIN&&e.role===Ae.b.ADMIN?"disabled":""].join(" ")},a.a.createElement("span",{className:"user-photo-wrapper"},a.a.createElement("img",{src:e.photoURL,alt:"user"})),a.a.createElement("span",null,e.displayName),a.a.createElement("span",null,e.email),a.a.createElement("span",null,e.uid),a.a.createElement("span",null,e.role),a.a.createElement("span",null,e.settings)))}},{key:"getHeader",value:function(){return a.a.createElement("div",{className:"header"},a.a.createElement("span",null,"Who"),a.a.createElement("span",null,"Name"),a.a.createElement("span",null,"Email"),a.a.createElement("span",null,"Id"),a.a.createElement("span",null,"Role"),a.a.createElement("span",null,"Settings"))}},{key:"handleEmailInvite",value:function(e){this.props.sendEmailInvitation(e)}},{key:"render",value:function(){return this.isUserAllowedHere()?a.a.createElement("div",{className:"manage-users"},a.a.createElement(We,{onAdd:this.handleAdd,onRemove:this.handleRemove,onEdit:this.handleEdit,onEmailInvite:this.props.dbUser.role===Ae.b.ADMIN?this.handleEmailInvite:null}),a.a.createElement("ul",{className:"users-list"},a.a.createElement($e.a,{size:"small",bordered:!0,header:this.getHeader(),dataSource:this.props.users,renderItem:this.getRenderItem}))):a.a.createElement(h.a,{to:"/"})}}]),t}(a.a.Component));var ot={openModal:Qe.e,getUsers:ye.c,sendEmailInvitation:ye.d},ct=Object(f.b)(function(e){var t=e.app,n=t.user,r=t.dbUser;return{users:e.users.users,user:n,dbUser:r}},ot)(st),lt=n(318),pt=n(173),dt=n.n(pt),ht=(n(304),n(305),function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e))).state={popoverVisible:!1},n.setPopoverVisibility=n.setPopoverVisibility.bind(Object(be.a)(n)),n.togglePopover=n.togglePopover.bind(Object(be.a)(n)),n.handleProfileClick=n.handleProfileClick.bind(Object(be.a)(n)),n.handleLogoClick=n.handleLogoClick.bind(Object(be.a)(n)),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"handleProfileClick",value:function(){this.setPopoverVisibility(!1),this.props.history.push("/updateProfile")}},{key:"handleLogoClick",value:function(){this.props.history.push("/")}},{key:"renderTooltipContent",value:function(){var e=this.props,t=e.user,n=e.logout;return a.a.createElement("ul",{className:"options"},a.a.createElement("li",{className:"user-details",title:t.displayName},a.a.createElement("span",{className:"name"},t.displayName),a.a.createElement("span",null,t.email)),a.a.createElement("li",{onClick:this.handleProfileClick},"Profile"),a.a.createElement("li",{onClick:n},"Logout"))}},{key:"setPopoverVisibility",value:function(e){this.setState({popoverVisible:e})}},{key:"togglePopover",value:function(){this.setPopoverVisibility(!this.state.popoverVisible)}},{key:"render",value:function(){return a.a.createElement("section",{className:"app-header"},a.a.createElement("div",{onClick:this.handleLogoClick,className:"logo-wrapper"},a.a.createElement("img",{alt:"logo",src:dt.a}),a.a.createElement("span",{className:"brand"},"Stay Healthy")),a.a.createElement("div",{className:"navigation"},a.a.createElement(d.b,{to:"/manageMeals"},"Manage meals"),this.props.dbUser.role!==Ae.b.REGULAR&&a.a.createElement(d.b,{to:"/manageUsers"},"Manage users")),a.a.createElement("div",{className:"right-button-wrapper"},a.a.createElement("div",{className:"greetings-text"},a.a.createElement("span",null,"Welcome,"),a.a.createElement("span",null,this.props.user.displayName)),a.a.createElement(lt.a,{overlayClassName:"profile-popover",content:this.renderTooltipContent(),trigger:"click",placement:"bottomRight",visible:this.state.popoverVisible,onVisibleChange:this.setPopoverVisibility},a.a.createElement("img",{alt:"profile",className:"profile-pic",onClick:this.togglePopover,src:this.props.user.photoURL}))))}}]),t}(a.a.Component));var ft={logout:he,getUsers:ye.c},mt=Object(h.f)(Object(f.b)(function(e){var t=e.app,n=t.user,r=t.userUpdated;return{user:n,dbUser:t.dbUser,userUpdated:r}},ft)(ht)),bt=(n(306),[{path:"/updateProfile",component:Ve},{path:"/manageMeals",component:at},{path:"/manageUsers",component:ct},{path:"/finishSignUp",component:ut}]),Et=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"renderApp",value:function(){var e=this;return a.a.createElement(a.a.Fragment,null,a.a.createElement(mt,null),a.a.createElement(Ye,null),a.a.createElement(h.d,null,bt.map(function(t,n){return a.a.createElement(E,Object.assign({key:n,isAuthenticated:!!e.props.user},t))})))}},{key:"isEmailVerified",value:function(){return this.props.user&&(this.props.user.emailVerified||!this.props.user.emailVerified&&this.props.isSocialMediaLogin)}},{key:"requiresProfileUpdate",value:function(){return!this.props.user.email||!this.props.user.displayName}},{key:"render",value:function(){return a.a.createElement("div",{className:"app"},this.isEmailVerified()?this.requiresProfileUpdate()?a.a.createElement(Ve,null):this.renderApp():a.a.createElement(Te,null))}}]),t}(a.a.Component);var vt={logout:he,refreshToken:fe},Ut=Object(f.b)(function(e){var t=e.app,n=t.user,r=t.userUpdated;return{user:n,isSocialMediaLogin:e.login.isSocialMediaLogin,userUpdated:r}},vt)(Et),gt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(c.a)(this,Object(l.a)(t).call(this,e)))._timeout=null,e.isAuthenticated&&e.tokenExpirationTimestamp<=Date.now()?e.setUnauthenticated(!1):n._setTimer(),n}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e){var t=e.isAuthenticated,n=e.tokenExpirationTimestamp;(!t&&t!==this.props.isAuthenticated||n!==this.props.tokenExpirationTimestamp)&&this._setTimer()}},{key:"_setTimer",value:function(){var e=this;clearTimeout(this._timeout),this._timeout=setTimeout(function(){e.props.refreshToken()},this.props.tokenExpirationTimestamp-Date.now()-6e4)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timeout)}},{key:"render",value:function(){var e=this.props.isAuthenticated;return a.a.createElement(d.a,null,a.a.createElement(h.d,null,a.a.createElement(h.b,{path:"/login",component:Ie}),a.a.createElement(E,{isAuthenticated:e,path:"/",component:Ut})))}}]),t}(a.a.Component);var Ot={refreshToken:fe,setUnauthenticated:function(){return{type:B}}},yt=Object(f.b)(function(e){var t=e.login;return{isAuthenticated:t.isAuthenticated,tokenExpirationTimestamp:t.tokenExpirationTimestamp}},Ot)(gt);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var St=n(70),At=(n(307),n(174)),kt=n(20),jt=n(22);function Rt(e,t){if(!e)throw new Error("A key must be provided along with the state to be saved inside the local storage.");var n=JSON.parse(localStorage.getItem(e))||{},r=Object.assign({},n,t);return localStorage.setItem(e,JSON.stringify(r)),r}function Lt(e){return JSON.parse(localStorage.getItem(e))}function Ct(e){return Lt(e)}function It(e,t,n){if(n){var r={};for(var a in e)t.indexOf(a)>=0&&(r[a]=e[a]);Rt(n,r)}}var Nt="APP_REDUCER",xt=Object(kt.a)({},{user:{},dbUser:{},modalToShow:"",modalParams:{},userUpdated:!1},Ct(Nt)),Tt=["user","dbUser"];var wt="LOGIN_REDUCER",Pt=36e5,_t=6e4,Dt="auth/wrong-password",Mt=Object(kt.a)({},{isAuthenticated:!1,tokenExpirationTimestamp:null,failedLogins:0,lastLoginAttempt:null,error:{},isSocialMediaLogin:!1,email:"",password:""},Ct(wt)),Ft=["isAuthenticated","tokenExpirationTimestamp","lastLoginAttempt","failedLogins","isSocialMediaLogin"];var Ht=n(28);function Gt(e){var t=[];for(var n in e)t.push(Object(kt.a)({},e[n],{id:n}));return t}var zt={meals:[]};var Vt={users:[]};var Qt=[At.a];var Bt=St.a.apply(void 0,Qt),Xt=Object(St.c)({app:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case L:case N:case w:case q:case F:case k:e=Object(kt.a)({},t,{user:n.user});break;case Se.f:case jt.d:e=Object(kt.a)({},t,{dbUser:n.dbUser});break;case V:e=Object(kt.a)({},t,{user:{},dbUser:{}});break;case jt.e:e=Object(kt.a)({},t,{modalToShow:n.modalName,modalParams:n.modalParams});break;case jt.a:e=Object(kt.a)({},t,{modalToShow:"",modalParams:{}});break;case jt.h:e=Object(kt.a)({},t,{dbUser:n.dbUser});break;case B:e=Object(kt.a)({},t,{user:null});break;case jt.k:case jt.n:e=Object(kt.a)({},t,{user:n.user,userUpdated:!t.userUpdated});break;default:return t}return It(e,Tt,Nt),e},login:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Mt,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case A:e=Object(kt.a)({},t,{lastLoginAttempt:Date.now()});break;case k:case q:case w:case F:e=Object(kt.a)({},t,{tokenExpirationTimestamp:Date.now()+Pt,isAuthenticated:!0,lastLoginAttempt:null,failedLogins:0});break;case K:e=Object(kt.a)({},t,{email:n.email});break;case $:e=Object(kt.a)({},t,{password:n.password});break;case N:case L:e=Object(kt.a)({},t,{tokenExpirationTimestamp:Date.now()+Pt,isAuthenticated:!0,lastLoginAttempt:null,failedLogins:0,isSocialMediaLogin:!0});break;case C:case x:case P:case j:var r=t.failedLogins;n.error.code===Dt&&Date.now()-t.lastLoginAttempt<_t&&r++,e=Object(kt.a)({},t,{isAuthenticated:!1,error:n.error,failedLogins:r});break;case G:e=Object(kt.a)({},t,{error:{}});break;case V:e=Object(kt.a)({},t,{tokenExpirationTimestamp:null,isAuthenticated:!1});break;case B:e=Object(kt.a)({},t,{isAuthenticated:!1});break;default:return t}return It(e,Ft,wt),e},meals:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ht.l:return Object(kt.a)({},e,{meals:Gt(t.meals)});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Se.r:return Object(kt.a)({},e,{users:t.users});default:return e}}}),Jt=Object(St.d)(Xt,Bt);b.initializeApp({apiKey:"AIzaSyD75XpESSE_xlos2lw_CPdQj_KtyvigIUM",authDomain:"stayhealthy-94800.firebaseapp.com",databaseURL:"https://stayhealthy-94800.firebaseio.com",projectId:"stayhealthy-94800",storageBucket:"stayhealthy-94800.appspot.com",messagingSenderId:"477203779511",appId:"1:477203779511:web:42813d9b4d070ef0"}),u.a.render(a.a.createElement(f.a,{store:Jt},a.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},43:function(e,t,n){"use strict";n.d(t,"d",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return d});var r=n(2),a=n.n(r),i=n(12),u=n(24),s=n(10);n(309),n(72),n(82);function o(e){return function(){var t=Object(i.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(u.m()),t.prev=1,t.next=4,s.auth().currentUser.updateProfile(e);case 4:return t.abrupt("return",n(u.n(s.auth().currentUser)));case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",n(u.l(t.t0)));case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()}function c(e,t,n){return function(){var r=Object(i.a)(a.a.mark(function r(i){var o,c,l;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i(u.g()),r.prev=1,(o={})["/users/"+e+"/settings"]=n,r.next=6,s.database().ref().update(o);case 6:if(c={},!t){r.next=11;break}return c["/users/"+e+"/role"]=t,r.next=11,s.database().ref().update(c);case 11:return r.next=13,s.database().ref("/users/"+e).once("value");case 13:return l=r.sent,r.abrupt("return",i(u.h(l.val())));case 17:return r.prev=17,r.t0=r.catch(1),r.abrupt("return",i(u.f(r.t0)));case 20:case"end":return r.stop()}},r,null,[[1,17]])}));return function(e){return r.apply(this,arguments)}}()}function l(){return function(){var e=Object(i.a)(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t(u.c()),e.prev=1,n=s.auth().currentUser.uid,e.next=5,s.database().ref("/users/"+n).once("value");case 5:return r=e.sent,e.abrupt("return",t(u.d(r.val())));case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",t(u.b(e.t0)));case 12:case"end":return e.stop()}},e,null,[[1,9]])}));return function(t){return e.apply(this,arguments)}}()}function p(e){return function(){var t=Object(i.a)(a.a.mark(function t(n){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(u.j()),t.prev=1,t.next=4,s.auth().currentUser.updateEmail(e);case 4:return t.abrupt("return",n(u.k(s.auth().currentUser)));case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",n(u.i(t.t0)));case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()}function d(e,t){return function(){var n=Object(i.a)(a.a.mark(function n(r){var i,o,c;return a.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return r(u.p()),n.prev=1,i=s.storage().ref(),o=i.child("/"+e+"/profile-picture.jpg"),n.next=6,o.put(t);case 6:return c=n.sent,n.abrupt("return",r(u.q(c)));case 10:return n.prev=10,n.t0=n.catch(1),n.abrupt("return",r(u.o(n.t0)));case 13:case"end":return n.stop()}},n,null,[[1,10]])}));return function(e){return n.apply(this,arguments)}}()}},46:function(e,t,n){"use strict";var r=n(2),a=n.n(r),i=n(12),u=n(18);function s(e){return{type:u.r,users:e}}function o(e){return{type:u.u,resp:e}}var c=n(10),l=(n(98),n(76));n(82),n(72),n(105);function p(e){return function(){var t=Object(i.a)(a.a.mark(function t(n){var r,i,o,p,d,h,f,m,b,E;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:u.q}),t.prev=1,r=e||c.auth().currentUser.uid,t.next=5,l.a.post("/getAllUsers",{loggedInUserId:r});case 5:return i=t.sent,o=i.data.users,t.next=9,c.database().ref("/users").once("value");case 9:for(p=t.sent,d=p.val(),h=[],f=0;f<o.length;f++)m=o[f],b=d[m.uid],E={uid:m.uid,email:m.email,displayName:m.displayName,photoURL:m.photoURL,role:b.role,settings:b.settings},h.push(E);return t.abrupt("return",n(s(h)));case 16:return t.prev=16,t.t0=t.catch(1),t.abrupt("return",n((a=t.t0,{type:u.p,error:a})));case 19:case"end":return t.stop()}var a},t,null,[[1,16]])}));return function(e){return t.apply(this,arguments)}}()}function d(e,t,n){return function(){var r=Object(i.a)(a.a.mark(function r(i){var s,o;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i({type:u.e}),r.prev=1,(s={})["/users/"+e]={role:t,settings:n},r.next=6,c.database().ref().update(s);case 6:return r.next=8,c.database().ref("/users/"+e).once("value");case 8:return o=r.sent,r.abrupt("return",i((l=o.val(),{type:u.f,dbUser:l})));case 12:return r.prev=12,r.t0=r.catch(1),r.abrupt("return",i((a=r.t0,{type:u.d,error:a})));case 15:case"end":return r.stop()}var a,l},r,null,[[1,12]])}));return function(e){return r.apply(this,arguments)}}()}function h(e,t,n){return function(){var r=Object(i.a)(a.a.mark(function r(i){var s,o,p,d;return a.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return i({type:u.h}),r.prev=1,s=c.auth().currentUser.uid,o={email:t,displayName:e},n&&(o.photoURL=n),r.next=8,l.a.post("/createUser",{loggedInUserId:s,userUpdates:o});case 8:return p=r.sent,d=p.data.newUser,r.abrupt("return",i((h=d,{type:u.i,user:h})));case 14:return r.prev=14,r.t0=r.catch(1),r.abrupt("return",i((a=r.t0,{type:u.g,error:a})));case 17:case"end":return r.stop()}var a,h},r,null,[[1,14]])}));return function(e){return r.apply(this,arguments)}}()}function f(e){return function(){var t=Object(i.a)(a.a.mark(function t(n){var r,i;return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:u.t}),t.prev=1,c.auth(),r={url:"https://stayhealthy-94800.firebaseapp.com/#/finishSignUp",handleCodeInApp:!0},t.next=6,c.auth().sendSignInLinkToEmail(e,r);case 6:return i=t.sent,window.localStorage.setItem("emailForSignIn",e),t.abrupt("return",n(o(i)));case 11:return t.prev=11,t.t0=t.catch(1),t.abrupt("return",n((a=t.t0,{type:u.s,error:a})));case 14:case"end":return t.stop()}var a},t,null,[[1,11]])}));return function(e){return t.apply(this,arguments)}}()}n.d(t,"c",function(){return p}),n.d(t,"a",function(){return d}),n.d(t,"b",function(){return h}),n.d(t,"d",function(){return f})},71:function(e,t,n){"use strict";var r=n(13),a=n(14),i=n(17),u=n(15),s=n(16),o=n(0),c=n.n(o),l=(n(221),function(e){function t(){return Object(r.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(a.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"input-with-label"},c.a.createElement("label",null,this.props.label),c.a.createElement("input",this.props.inputProps))}}]),t}(c.a.Component));t.a=l},76:function(e,t,n){"use strict";var r=n(157),a=n.n(r).a.create({baseURL:"https://us-central1-stayhealthy-94800.cloudfunctions.net/"});t.a=a},98:function(e,t,n){"use strict";function r(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}n.d(t,"a",function(){return r})}},[[181,7,8]]]);
//# sourceMappingURL=main.47a48f75.chunk.js.map