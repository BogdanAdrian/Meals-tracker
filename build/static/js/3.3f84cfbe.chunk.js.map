{"version":3,"sources":["containers/modals/Meal/Meal.js","components/ModalFooter/constants.js","components/ModalFooter/ModalFooter.js","components/ModalFooter/index.js","components/ModalHeader/ModalHeader.js","components/ModalHeader/index.js"],"names":["Meal","props","_this","Object","_Users_adrianbogdan_workspace_toptal_adrian_bogdan_2_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","_Users_adrianbogdan_workspace_toptal_adrian_bogdan_2_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","_Users_adrianbogdan_workspace_toptal_adrian_bogdan_2_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","call","state","datetime","params","meal","moment","format","noOfCalories","text","handleConfirm","bind","_Users_adrianbogdan_workspace_toptal_adrian_bogdan_2_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__","handleDatetimeChange","handleNoOfCalChange","handleTextChange","prevProps","setState","Date","event","target","value","id","editMeal","user","uid","getTime","addMeal","closeModal","react__WEBPACK_IMPORTED_MODULE_6___default","a","createElement","className","_components_ModalHeader__WEBPACK_IMPORTED_MODULE_8__","title","onClose","_components_InputWithLabel__WEBPACK_IMPORTED_MODULE_10__","label","inputProps","type","onChange","_components_ModalFooter__WEBPACK_IMPORTED_MODULE_9__","onCancel","onConfirm","React","Component","mapDispatchToProps","connect","_ref","app","CANCEL","SAVE","ALIGNMENT","center","left","right","ModalFooter","_ref$cancelCaption","cancelCaption","_ref$confirmCaption","confirmCaption","_ref$disableConfirmBu","disableConfirmButton","_ref$contentAlignment","contentAlignment","react_default","concat","onClick","disabled","defaultProps","__webpack_require__","d","__webpack_exports__","ModalFooter_ModalFooter","ModalHeader","index_es","icon","library","add","faTimes","ModalHeader_ModalHeader"],"mappings":"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","file":"static/js/3.3f84cfbe.chunk.js","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport PropTypes from \"prop-types\";\nimport ModalHeader from \"../../../components/ModalHeader\";\nimport ModalFooter from \"../../../components/ModalFooter\";\nimport InputWithLabel from \"../../../components/InputWithLabel\";\nimport { closeModal } from \"../../../state-management/app/actions\";\nimport { addMeal, editMeal } from '../../../state-management/meals/asyncActions';\nimport \"./Meal.scss\";\nimport moment from 'moment';\n\nclass Meal extends React.Component {\n  static propTypes = {\n    closeModal: PropTypes.func.isRequired,\n    user: PropTypes.object,\n    params: PropTypes.shape({\n      meal: PropTypes.object.isRequired\n    })\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      datetime: props.params.meal.datetime ? moment(props.params.meal.datetime).format('YYYY-MM-DDTHH:mm') : moment().format('YYYY-MM-DDTHH:mm'),\n      noOfCalories: props.params.meal.noOfCalories || 0,\n      text: props.params.meal.text || \"\"\n    };\n\n    this.handleConfirm = this.handleConfirm.bind(this);\n    this.handleDatetimeChange = this.handleDatetimeChange.bind(this);\n    this.handleNoOfCalChange = this.handleNoOfCalChange.bind(this);\n    this.handleTextChange = this.handleTextChange.bind(this);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.params.meal !== this.props.params.meal) {\n      this.setState({\n        datetime: new Date(this.props.params.meal.datetime) || new Date(),\n        noOfCalories: this.props.params.meal.noOfCalories || 0,\n        text: this.props.params.meal.text || \"\"\n      });\n    }\n  }\n\n  handleDatetimeChange(event) {\n    this.setState({\n      datetime: event.target.value\n    });\n  }\n\n  handleNoOfCalChange(event) {\n    this.setState({\n      noOfCalories: event.target.value\n    });\n  }\n\n  handleTextChange(event) {\n    this.setState({\n      text: event.target.value\n    });\n  }\n\n  handleConfirm() {\n    if (this.props.params.meal.id) {\n      // edit\n      this.props.editMeal(this.props.user.uid, this.props.params.meal.id, new Date(this.state.datetime).getTime(), this.state.text, this.state.noOfCalories);\n    } else {\n      // add\n      this.props.addMeal(null, new Date(this.state.datetime).getTime(), this.state.text, this.state.noOfCalories);\n    }\n    this.props.closeModal();\n  }\n\n  render() {\n    return (\n      <div className=\"meal\">\n        <ModalHeader title=\"Add/edit meal\" onClose={this.props.closeModal} />\n        <div className=\"meal-modal-body\">\n          <InputWithLabel\n            label=\"Datetime\"\n            inputProps={{\n              type: \"datetime-local\",\n              value: this.state.datetime,\n              onChange: this.handleDatetimeChange\n            }}\n          />\n          <InputWithLabel\n            label=\"Number of calories\"\n            inputProps={{\n              onChange: this.handleNoOfCalChange,\n              value: this.state.noOfCalories,\n              type: \"number\"\n            }}\n          />\n          <div className='meal-text'>\n            <label>Text</label>\n            <textarea value={this.state.text} onChange={this.handleTextChange}/>\n          </div>\n        </div>\n        <ModalFooter\n          onCancel={this.props.closeModal}\n          onConfirm={this.handleConfirm}\n        />\n      </div>\n    );\n  }\n}\n\nfunction mapStateToProps({ app: { user } }) {\n  return {\n    user\n  };\n}\n\nconst mapDispatchToProps = {\n  closeModal,\n  addMeal,\n  editMeal\n};\n\nexport default connect(\n  mapStateToProps,\n  mapDispatchToProps\n)(Meal);\n","export const CANCEL = 'Cancel';\nexport const SAVE = 'Save';\nexport const ALIGNMENT = {\n  center: 'center',\n  left: 'left',\n  right: 'right'\n};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { SAVE, CANCEL, ALIGNMENT } from './constants';\nimport './ModalFooter.scss';\n\nexport default function ModalFooter({ onCancel, onConfirm, cancelCaption = CANCEL, confirmCaption = SAVE, disableConfirmButton = false, contentAlignment = ALIGNMENT.right }) {\n  return (\n    <footer className={`modal-footer ${contentAlignment}`}>\n      <button\n        className='cancel'\n        onClick={onCancel}\n      > {cancelCaption}\n      </button>\n      <button\n        className='confirm'\n        onClick={onConfirm}\n        disabled={disableConfirmButton}\n      >{confirmCaption}\n      </button>\n    </footer>\n  );\n}\n\nModalFooter.propTypes = {\n  disableConfirmButton: PropTypes.bool,\n  cancelCaption: PropTypes.string,\n  confirmCaption: PropTypes.string,\n  contentAlignment: PropTypes.oneOf([ALIGNMENT.left, ALIGNMENT.right, ALIGNMENT.center]).isRequired,\n  onCancel: PropTypes.func.isRequired,\n  onConfirm: PropTypes.func.isRequired\n};\n\nModalFooter.defaultProps = {\n  contentAlignment: ALIGNMENT.right\n};","export { default } from './ModalFooter';","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { faTimes } from \"@fortawesome/free-solid-svg-icons\";\nimport { library } from \"@fortawesome/fontawesome-svg-core\";\nimport './ModalHeader.scss';\n\nlibrary.add(faTimes);\n\nexport default function ModalHeader({ title, onClose }) {\n  return (\n    <header className='modal-header'>\n      <h2 className=\"title\">{title}</h2>\n      {onClose && (\n        <FontAwesomeIcon\n          className=\"close-button\"\n          icon=\"times\"\n          onClick={onClose}\n        />\n      )}\n    </header>\n  );\n}\n\nModalHeader.propTypes = {\n  title: PropTypes.string.isRequired,\n  onClose: PropTypes.func\n};","export { default } from './ModalHeader';"],"sourceRoot":""}